<!DOCTYPE html>
<html>
  <head> 
  <title>Smart bill</title> 
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<meta content="user-scalable=no" />
  
	<link rel="stylesheet" href="Lib/jquery.mobile-1.4.2.min.css" />  
	<link rel="stylesheet" href="Scripts/icons.css"/> 
  
	<script type="text/javascript" src="Lib/jquery-1.7.1.js"></script>    
	<script type="text/javascript" src="Lib/jquery.mobile-1.4.2.min.js"></script>
	<script type="text/javascript" src="Lib/jquery.cookie.js" ></script>
	<script type="text/javascript" src="Lib/cordova-2.4.0.js" ></script>
	<meta http-equiv="Content-Type" content="text/html" charset="utf-8">
	<script type="text/javascript" src="Lib/ajaxupload.js"></script>    
    <script type="text/javascript" charset="utf-8" src="cordova.js"></script>
    <script type="text/javascript" charset="utf-8">

    // Wait for device API libraries to load
    //
    document.addEventListener("deviceready", onDeviceReady, false);

    // device APIs are available
    //
    function onDeviceReady() {
         
    }

    </script>
  </head>
  <body>
<!--Authorization-->
<div data-role="page" data-theme="a" id="AuthorPage"> 
  <script type="text/javascript" src="Scripts/VKAutorizationPlugin.js"></script>   
  <script type="text/javascript" src="Scripts/UserDetails.js"></script>   
  <script type="text/javascript" src="Scripts/strings.js"></script>   
  <script type="text/javascript" src="Scripts/listview_plugin.js"></script>   
   
  <div data-role="header", data-theme="a">
    <h1 id="h3">Smart bill</h1>
	<a href="#Settings" data-rel="Settings" class="ui-btn-right ui-alt-icon ui-nodisc-icon ui-btn ui-icon-gear ui-btn-icon-notext ui-corner-all" data-role="button" role="button">Options</a>
  </div><!-- /header -->
  
  <div data-role="content">
    <div id="AuthLabel"><h4>Авторизация</h4>
      <a href="#" data-role="button" data-theme="d" id="VKButton" onclick="plugin_vk.auth(true)" data-icon="check" type="submit">Войти через Вконтакте</a>
      <a href="#" data-role="button" data-theme="d" id="UserInfoBtn" onclick="user_details.open_user_details_page()" data-icon="check" type="submit">User</a>
      <a href="#Contacts" data-role="button" data-theme="d" id="ContactsBtn" onclick="" data-icon="check" type="submit">Contacts</a>
      <a href="#ListOfDebts" data-role="button" data-theme="d" id="ListOfDebtsBtn" onclick="" data-icon="check" type="submit">List Of Debts</a>
      <a href="#ListOfBills" data-role="button" data-theme="d" id="ListOfBillsBtn" onclick="" data-icon="check" type="submit">List Of Bills</a>
      <a href="#EditBill" data-role="button" data-theme="d" id="EditBillBtn" onclick="" data-icon="check" type="submit">Edit Bill</a>
    </div>
  </div><!-- /content -->
  
  <div data-role="footer", data-theme="c">
  </div><!--/footer-->
  
</div><!-- /page -->

<!--User info-->
<div data-role="page" data-theme="a" id="UserInfo"> 
  <script type="text/javascript" src="Scripts/VKAutorizationPlugin.js"></script>   
  
  <div data-role="header", data-theme="a">
    <h1>User info</h1>
	<a href="#" data-rel="back" class="ui-btn-left ui-alt-icon ui-nodisc-icon ui-btn ui-icon-carat-l ui-btn-icon-notext ui-corner-all" data-role="button" role="button">Back</a>
  </div><!-- /header -->
  
  <div data-role="content">
	
	<ul data-role="listview">
		<li>
			<img style="display:block;width:100%;height:100%;" id="userPhoto" src=""></img>
			<h2 style="color:gray">Name</h2>
			<p><strong id="userNameItem" style="color:black">
				<script type="text/javascript" charset="utf-8">
					$('#UserInfo').bind('pageinit', function() {
						var uid=window.localStorage.getItem(plugins.plugin_vk_user_id);
						plugin_vk.get_user_info(uid);
						var userNameItem=document.getElementById('userNameItem');
						var name=window.localStorage.getItem(user_info.first_name);
						var last_name=window.localStorage.getItem(user_info.last_name);
						var userPhoto=document.getElementById('userPhoto');
						userNameItem.textContent=name+' '+last_name+' (id: '+uid+')';
						userPhoto.src=window.localStorage.getItem(user_info.photo);
					});
				</script>
			</strong></p>
		</li>
	</ul>
	<div id="SocialLabel"><h4 align="center" style="color:gray">Social</h4>
	<input id="vkLinkButton" href="#" data-role="button" data-theme="a" type="submit" data-icon="vk" class="ui-btn ui-corner-all ui-shadow ui-btn-icon-left ui-btn-active" value="Connect to VK"/>
	<input id="fbLinkButton" href="#" data-role="button" data-theme="a" type="submit" data-icon="fb" class="ui-btn ui-corner-all ui-shadow ui-btn-icon-left ui-btn-active" value="Connect to facebook"/>
    </div>
  </div><!-- /content -->
  
  <div data-role="footer", data-theme="c">
  </div><!--/footer-->
  
</div><!-- /page -->

<!--Persons to add-->
<div data-role="page" data-theme="b" id="Contacts">
	<div data-role="header" data-theme="a" data-position="fixed">
		<a href="#" data-rel="back" class="ui-btn-left ui-alt-icon ui-nodisc-icon ui-btn ui-icon-carat-l ui-btn-icon-notext ui-corner-all" data-role="button" role="button">Back</a>
		<a href="#" data-rel="back" class="ui-btn-right ui-alt-icon ui-nodisc-icon ui-btn ui-icon-check ui-btn-icon-notext ui-corner-all" data-role="button" role="button">Ok</a>
		<h1 id="sdf">Contacts</h1>
	</div><!--/header-->
	
	<div data-role="content" data-theme="a">
		<ul data-role="listview" data-filter="true" data-filter-placeholder="Search friends..." data-inset="true" id="FriendsList">
			<script type="text/javascript" charset="utf-8">
				$('#Contacts').bind('pageinit', function() {
					//TODO need to cache friends list, download time is too large
					plugin_listview.init();
					plugin_vk.load_friends();
				});
			</script>
		</ul>
	</div>
</div><!-- /page -->

<!--Settings-->
<div data-role="page" data-theme="b" id="Settings">
	<div data-role="header" data-theme="a" >
		<a href="../Settings/" data-rel="back" class="ui-btn-left ui-alt-icon ui-nodisc-icon ui-btn ui-icon-carat-l ui-btn-icon-notext ui-corner-all" data-role="button" role="button">Back</a>
		<h1>Settings</h1>
	</div><!--/header-->
	
	<div data-role="content" data-theme="a">
		
	</div>
</div><!-- /page -->

<!--List of debts-->
<div data-role="page" data-theme="b" id="ListOfDebts">

	<div data-role="header" data-theme="a" data-position="fixed">
		<a href="#" data-rel="panel" data-position="right" class="ui-btn-right ui-alt-icon ui-nodisc-icon ui-btn ui-icon-bars ui-btn-icon-notext ui-corner-all" data-role="button" role="button">Options</a>
		<a href="../ListOfDebts/" data-rel="back" class="ui-btn-left ui-alt-icon ui-nodisc-icon ui-btn ui-icon-carat-l ui-btn-icon-notext ui-corner-all" data-role="button" role="button">Back</a>
		
		<h1>List of debts</h1>
	</div><!--/header-->
	
	<div data-role="content" data-theme="a">
		<ul id="debtsList" class="touch" data-role="listview" data-icon="false" data-split-icon="delete">
			<script type="text/javascript" charset="utf-8">
				$('#ListOfDebts').bind('pageinit', function() {
					plugin_listview.init();
				});
			</script>
			<li id="12">
                <a href="#" onclick="plugin_listview.listItemSingleSelect(this.parentElement)">
                    <h3 class="topic">Name</h3>
                    <p><strong>Owner</strong></p>
                    <p>summary...</p>
                    <p class="ui-li-aside"><strong>Total</strong>(currency)</p>
                </a>
                <a href="#" class="delete" onclick="plugin_listview.delete_item(this.parentElement,'deleteDebtConfirm')">Delete</a>
            </li>
		</ul>
	</div>
	
	<div id="deleteDebtConfirm" class="ui-content" data-role="popup" data-theme="a">
        <p id="question">Are you sure you want to delete:</p>
        <div class="ui-grid-a">
            <div class="ui-block-a">
                <a id="yes" class="ui-btn ui-corner-all ui-mini ui-btn-a" data-rel="back">Yes</a>
            </div>
            <div class="ui-block-b">
                <a id="cancel" class="ui-btn ui-corner-all ui-mini ui-btn-a" data-rel="back">Cancel</a>
            </div>
        </div>
    </div><!-- /popup -->

</div><!-- /page -->


<!--List of bills-->
<div data-role="page" data-theme="b" id="ListOfBills">

	<div data-role="header" data-theme="a" data-position="fixed">
		<a href="#" data-rel="panel" data-position="right" class="ui-btn-right ui-alt-icon ui-nodisc-icon ui-btn ui-icon-bars ui-btn-icon-notext ui-corner-all" data-role="button" role="button">Options</a>
		<a href="../ListOfBills/" data-rel="back" class="ui-btn-left ui-alt-icon ui-nodisc-icon ui-btn ui-icon-carat-l ui-btn-icon-notext ui-corner-all" data-role="button" role="button">Back</a>
		
		<h1>List of bills</h1>
	</div><!--/header-->
	
	<div data-role="content" data-theme="a">
		<ul id="billsList" class="touch" data-role="listview" data-icon="false" data-split-icon="delete">
			<script type="text/javascript" charset="utf-8">
				$('#ListOfBills').bind('pageinit', function() {
					plugin_listview.init();
				});
			</script>
			<li id="12">
                <a href="#" onclick="plugin_listview.listItemSingleSelect(this.parentElement)">
                    <h3 class="topic">Name</h3>
                    <p>summary...</p>
                    <p class="ui-li-aside"><strong>Share</strong>(currency)</p>
                </a>
                <a href="#" class="delete" onclick="plugin_listview.delete_item(this.parentElement,'deleteBillConfirm')">Delete</a>
            </li>
		</ul>
	</div>
	
	<div id="deleteBillConfirm" class="ui-content" data-role="popup" data-theme="a">
        <p id="question">Are you sure you want to delete:</p>
        <div class="ui-grid-a">
            <div class="ui-block-a">
                <a id="yes" class="ui-btn ui-corner-all ui-mini ui-btn-a" data-rel="back">Yes</a>
            </div>
            <div class="ui-block-b">
                <a id="cancel" class="ui-btn ui-corner-all ui-mini ui-btn-a" data-rel="back">Cancel</a>
            </div>
        </div>
    </div><!-- /popup -->
	
	<div data-role="footer", data-theme="c">
	<div data-role="controlgroup" data-type="horizontal" class="ui-mini ui-btn-right" data-position="fixed">
			<a href="#" onclick="plugin_listview.fill_list('billsList')" class="ui-btn ui-btn-icon-right ui-icon-plus">Add</a>
			<a href="#" class="ui-btn ui-btn-icon-right ui-icon-edit">Quick add</a>
		</div>
	</div><!--/footer-->
</div><!-- /page -->

<!--Edit bill-->
<div data-role="page" data-theme="b" id="EditBill">
	<div data-role="header" data-theme="a" >
		<a href="" data-rel="back" class="ui-btn-left ui-alt-icon ui-nodisc-icon ui-btn ui-icon-carat-l ui-btn-icon-notext ui-corner-all" data-role="button" role="button">Back</a>
		<a href="" data-rel="edit" class="ui-btn-right ui-alt-icon ui-nodisc-icon ui-btn ui-icon-edit ui-btn-icon-notext ui-corner-all" data-role="button" role="button">Back</a>
		<h1 id="billName">Bill name</h1>
	</div><!--/header-->
		
	<div data-role="content" data-theme="a">
		
	</div>
</div><!-- /page -->

</body>
</html>